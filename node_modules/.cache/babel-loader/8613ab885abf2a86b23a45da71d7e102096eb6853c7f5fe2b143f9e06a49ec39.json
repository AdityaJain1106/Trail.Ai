{"ast":null,"code":"var _jsxFileName = \"D:\\\\trial\\\\voice-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [audioUrl, setAudioUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const handleSend = async () => {\n    if (!inputText.trim()) return alert(\"Please enter some text!\");\n    setLoading(true);\n    setAudioUrl(null);\n    try {\n      const response = await fetch(\"http://localhost:3000/api/voice-chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          text: inputText\n        })\n      });\n      const contentType = response.headers.get(\"Content-Type\");\n      console.log(\"Response content-type:\", contentType);\n      if (!response.ok) {\n        let errMsg = `Server error: ${response.status}`;\n        try {\n          const errData = await response.json();\n          console.error(\"Backend error details:\", errData);\n          if (errData.error) errMsg += ` - ${errData.error}`;\n        } catch (e) {\n          console.error(\"Could not parse error JSON:\", e);\n        }\n        alert(errMsg);\n        return;\n      }\n      const blob = await response.blob();\n      console.log(\"Blob size:\", blob.size, \"type:\", blob.type);\n      if (!blob.size) {\n        alert(\"Received empty audio from server.\");\n        return;\n      }\n      const url = URL.createObjectURL(blob);\n      setAudioUrl(url);\n    } catch (error) {\n      console.error(\"Fetch error:\", error);\n      alert(\"Network error: \" + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.heading,\n      children: \"\\uD83C\\uDFA4 Voice AI Chat (Gemini + ElevenLabs)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      style: styles.textarea,\n      rows: \"3\",\n      placeholder: \"Type your message...\",\n      value: inputText,\n      onChange: e => setInputText(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: styles.button,\n      onClick: handleSend,\n      disabled: loading,\n      children: loading ? \"Generating...\" : \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), audioUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"AI Voice Reply:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        controls: true,\n        src: audioUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"MQsWc0Mb9AKj49Nn5+e8qjlGb4A=\");\n_c = App;\nconst styles = {\n  container: {\n    maxWidth: \"600px\",\n    margin: \"40px auto\",\n    textAlign: \"center\",\n    fontFamily: \"Arial, sans-serif\",\n    padding: \"20px\"\n  },\n  heading: {\n    marginBottom: \"20px\"\n  },\n  textarea: {\n    width: \"100%\",\n    padding: \"10px\",\n    fontSize: \"16px\"\n  },\n  button: {\n    marginTop: \"10px\",\n    padding: \"10px 20px\",\n    fontSize: \"16px\",\n    backgroundColor: \"#007bff\",\n    color: \"white\",\n    border: \"none\",\n    cursor: \"pointer\"\n  }\n};\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","App","_s","inputText","setInputText","audioUrl","setAudioUrl","loading","setLoading","handleSend","trim","alert","response","fetch","method","headers","body","JSON","stringify","text","contentType","get","console","log","ok","errMsg","status","errData","json","error","e","blob","size","type","url","URL","createObjectURL","message","style","styles","container","children","heading","fileName","_jsxFileName","lineNumber","columnNumber","textarea","rows","placeholder","value","onChange","target","button","onClick","disabled","marginTop","controls","src","_c","maxWidth","margin","textAlign","fontFamily","padding","marginBottom","width","fontSize","backgroundColor","color","border","cursor","$RefreshReg$"],"sources":["D:/trial/voice-frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction App() {\n  const [inputText, setInputText] = useState(\"\");\n  const [audioUrl, setAudioUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleSend = async () => {\n  if (!inputText.trim()) return alert(\"Please enter some text!\");\n  setLoading(true);\n  setAudioUrl(null);\n\n  try {\n    const response = await fetch(\"http://localhost:3000/api/voice-chat\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ text: inputText }),\n    });\n\n    const contentType = response.headers.get(\"Content-Type\");\n    console.log(\"Response content-type:\", contentType);\n\n    if (!response.ok) {\n      let errMsg = `Server error: ${response.status}`;\n      try {\n        const errData = await response.json();\n        console.error(\"Backend error details:\", errData);\n        if (errData.error) errMsg += ` - ${errData.error}`;\n      } catch (e) {\n        console.error(\"Could not parse error JSON:\", e);\n      }\n      alert(errMsg);\n      return;\n    }\n\n    const blob = await response.blob();\n    console.log(\"Blob size:\", blob.size, \"type:\", blob.type);\n\n    if (!blob.size) {\n      alert(\"Received empty audio from server.\");\n      return;\n    }\n\n    const url = URL.createObjectURL(blob);\n    setAudioUrl(url);\n  } catch (error) {\n    console.error(\"Fetch error:\", error);\n    alert(\"Network error: \" + error.message);\n  } finally {\n    setLoading(false);\n  }\n};\n\n\n  return (\n    <div style={styles.container}>\n      <h2 style={styles.heading}>ðŸŽ¤ Voice AI Chat (Gemini + ElevenLabs)</h2>\n\n      <textarea\n        style={styles.textarea}\n        rows=\"3\"\n        placeholder=\"Type your message...\"\n        value={inputText}\n        onChange={(e) => setInputText(e.target.value)}\n      />\n\n      <button style={styles.button} onClick={handleSend} disabled={loading}>\n        {loading ? \"Generating...\" : \"Send\"}\n      </button>\n\n      {audioUrl && (\n        <div style={{ marginTop: \"20px\" }}>\n          <p>AI Voice Reply:</p>\n          <audio controls src={audioUrl} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    maxWidth: \"600px\",\n    margin: \"40px auto\",\n    textAlign: \"center\",\n    fontFamily: \"Arial, sans-serif\",\n    padding: \"20px\",\n  },\n  heading: {\n    marginBottom: \"20px\",\n  },\n  textarea: {\n    width: \"100%\",\n    padding: \"10px\",\n    fontSize: \"16px\",\n  },\n  button: {\n    marginTop: \"10px\",\n    padding: \"10px 20px\",\n    fontSize: \"16px\",\n    backgroundColor: \"#007bff\",\n    color: \"white\",\n    border: \"none\",\n    cursor: \"pointer\",\n  },\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}